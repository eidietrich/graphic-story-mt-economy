!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i;((i=n(1))&&i.__esModule?i:{default:i}).default.init()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(2)),o=r(n(3));function r(t){return t&&t.__esModule?t:{default:t}}var s=d3.select("#scroller"),a=s.selectAll(".step"),f=s.select(".sticky");function l(t){var e=s.select("[data-index='"+t+"']"),n=e.attr("data-graphic"),i=e.attr("data-graphic-index");a.classed("is-active",function(e,n){return n===t}),f.selectAll(".figure-container").classed("active",!1),f.select("#"+n).classed("active",!0);var o=f.select(".active").select(".dynamic");o.html(""),o.text("Step "+i)}e.default={init:function(){o.default.add(d3.select(".sticky").node()),(0,i.default)({selector:a.nodes(),offset:.25,enter:function(t){l(+d3.select(t).attr("data-index"))},exit:function(t){var e=+d3.select(t).attr("data-index");l(e=Math.max(0,e-1))}})}}},function(t,e,n){"use strict";var i,o;void 0===(o="function"==typeof(i=function(){return function(t){function e(){h=!1;var t=function(){if(l&&"number"==typeof l){var t=Math.min(Math.max(0,l),1);return m-t*m}return m}();(p=p.filter(function(e){var n=e.getBoundingClientRect().top<t;if(n&&!e.__enter_view){if(s(e),d)return!1}else!n&&e.__enter_view&&a&&a(e);return e.__enter_view=n,!0})).length||window.removeEventListener("scroll",n,!0)}function n(){h||(h=!0,u(e))}function i(){var t,n;t=document.documentElement.clientHeight,n=window.innerHeight||0,m=Math.max(t,n),e()}function o(t){for(var e=t.length,n=[],i=0;i<e;i+=1)n.push(t[i]);return n}var r=t.selector,s=t.enter,a=t.exit,f=t.offset,l=void 0===f?0:f,c=t.once,d=void 0!==c&&c,u=null,h=!1,p=[],m=0;r&&s||console.error("must set selector and enter options"),u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?o(e.querySelectorAll(t)):t instanceof NodeList?o(t):t instanceof Array?t:void 0}(r),window.addEventListener("resize",i,!0),window.addEventListener("scroll",n,!0),i(),e()}})?i.call(e,n,e,t):i)||(t.exports=o)},function(t,e){!function(e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=!1;if(e.getComputedStyle){var r=n.createElement("div");["","-webkit-","-moz-","-ms-"].some(function(t){try{r.style.position=t+"sticky"}catch(t){}return""!=r.style.position})&&(o=!0)}else o=!0;var s="undefined"!=typeof ShadowRoot,a={top:null,left:null},f=[];function l(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function c(t){return parseFloat(t)||0}function d(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}var u=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(f.some(function(t){return t._node===e}))throw new Error("Stickyfill is already applied to this node");this._node=e,this._stickyMode=null,this._active=!1,f.push(this),this.refresh()}return i(t,[{key:"refresh",value:function(){if(!o&&!this._removed){this._active&&this._deactivate();var t=this._node,i=getComputedStyle(t),r={top:i.top,display:i.display,marginTop:i.marginTop,marginBottom:i.marginBottom,marginLeft:i.marginLeft,marginRight:i.marginRight,cssFloat:i.cssFloat};if(!isNaN(parseFloat(r.top))&&"table-cell"!=r.display&&"none"!=r.display){this._active=!0;var a=t.parentNode,f=s&&a instanceof ShadowRoot?a.host:a,u=t.getBoundingClientRect(),h=f.getBoundingClientRect(),p=getComputedStyle(f);this._parent={node:f,styles:{position:f.style.position},offsetHeight:f.offsetHeight},this._offsetToWindow={left:u.left,right:n.documentElement.clientWidth-u.right},this._offsetToParent={top:u.top-h.top-c(p.borderTopWidth),left:u.left-h.left-c(p.borderLeftWidth),right:-u.right+h.right-c(p.borderRightWidth)},this._styles={position:t.style.position,top:t.style.top,bottom:t.style.bottom,left:t.style.left,right:t.style.right,width:t.style.width,marginTop:t.style.marginTop,marginLeft:t.style.marginLeft,marginRight:t.style.marginRight};var m=c(r.top);this._limits={start:u.top+e.pageYOffset-m,end:h.top+e.pageYOffset+f.offsetHeight-c(p.borderBottomWidth)-t.offsetHeight-m-c(r.marginBottom)};var g=p.position;"absolute"!=g&&"relative"!=g&&(f.style.position="relative"),this._recalcPosition();var v=this._clone={};v.node=n.createElement("div"),l(v.node.style,{width:u.right-u.left+"px",height:u.bottom-u.top+"px",marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,cssFloat:r.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),a.insertBefore(v.node,t),v.docOffsetTop=d(v.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var t=a.top<=this._limits.start?"start":a.top>=this._limits.end?"end":"middle";if(this._stickyMode!=t){switch(t){case"start":l(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":l(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":l(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=t}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(d(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var t=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,l(this._node.style,this._styles),delete this._styles,f.some(function(e){return e!==t&&e._parent&&e._parent.node===t._parent.node})||l(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var t=this;this._deactivate(),f.some(function(e,n){if(e._node===t._node)return f.splice(n,1),!0}),this._removed=!0}}]),t}(),h={stickies:f,Sticky:u,addOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}for(var e=0;e<f.length;e++)if(f[e]._node===t)return f[e];return new u(t)},add:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length){for(var e=[],n=function(n){var i=t[n];return i instanceof HTMLElement?f.some(function(t){if(t._node===i)return e.push(t),!0})?"continue":void e.push(new u(i)):(e.push(void 0),"continue")},i=0;i<t.length;i++)n(i);return e}},refreshAll:function(){f.forEach(function(t){return t.refresh()})},removeOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}f.some(function(e){if(e._node===t)return e.remove(),!0})},remove:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length)for(var e=function(e){var n=t[e];f.some(function(t){if(t._node===n)return t.remove(),!0})},n=0;n<t.length;n++)e(n)},removeAll:function(){for(;f.length;)f[0].remove()}};o||function(){function t(){e.pageXOffset!=a.left?(a.top=e.pageYOffset,a.left=e.pageXOffset,h.refreshAll()):e.pageYOffset!=a.top&&(a.top=e.pageYOffset,a.left=e.pageXOffset,f.forEach(function(t){return t._recalcPosition()}))}t(),e.addEventListener("scroll",t),e.addEventListener("resize",h.refreshAll),e.addEventListener("orientationchange",h.refreshAll);var i=void 0;function o(){i=setInterval(function(){f.forEach(function(t){return t._fastCheck()})},500)}var r=void 0,s=void 0;"hidden"in n?(r="hidden",s="visibilitychange"):"webkitHidden"in n&&(r="webkitHidden",s="webkitvisibilitychange"),s?(n[r]||o(),n.addEventListener(s,function(){n[r]?clearInterval(i):o()})):o()}(),void 0!==t&&t.exports?t.exports=h:e.Stickyfill=h}(window,document)}]);